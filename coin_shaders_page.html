<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.9.1"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<!-- BEGIN opengraph metadata -->
<meta property="og:title" content="Doxygen Awesome" />
<meta property="og:image" content="https://repository-images.githubusercontent.com/348492097/4f16df80-88fb-11eb-9d31-4015ff22c452" />
<meta property="og:description" content="Custom CSS theme for doxygen html-documentation with lots of customization parameters." />
<meta property="og:url" content="https://jothepro.github.io/doxygen-awesome-css/" />
<!-- END opengraph metadata -->
<!-- BEGIN twitter metadata -->
<meta name="twitter:image:src" content="https://repository-images.githubusercontent.com/348492097/4f16df80-88fb-11eb-9d31-4015ff22c452" />
<meta name="twitter:title" content="Doxygen Awesome" />
<meta name="twitter:description" content="Custom CSS theme for doxygen html-documentation with lots of customization parameters." />
<!-- END twitter metadata -->
<title>Coin: Shaders in Coin</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link rel="icon" type="image/svg+xml" href="logo.drawio.svg"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/javascript" src="doxygen-awesome-darkmode-toggle.js"></script>
<script type="text/javascript" src="doxygen-awesome-fragment-copy-button.js"></script>
<script type="text/javascript" src="doxygen-awesome-paragraph-link.js"></script>
<script type="text/javascript" src="doxygen-awesome-interactive-toc.js"></script>
<script type="text/javascript" src="doxygen-awesome-tabs.js"></script>
<script type="text/javascript" src="toggle-alternative-theme.js"></script>
<script type="text/javascript">
    DoxygenAwesomeFragmentCopyButton.init()
    DoxygenAwesomeDarkModeToggle.init()
    DoxygenAwesomeParagraphLink.init()
    DoxygenAwesomeInteractiveToc.init()
    DoxygenAwesomeTabs.init()
</script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="doxygen-awesome.css" rel="stylesheet" type="text/css"/>
<link href="custom.css" rel="stylesheet" type="text/css"/>
<link href="doxygen-awesome-sidebar-only.css" rel="stylesheet" type="text/css"/>
<link href="doxygen-awesome-sidebar-only-darkmode-toggle.css" rel="stylesheet" type="text/css"/>
<link href="custom-alternative.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<!-- https://tholman.com/github-corners/ -->
<a href="https://github.com/coin3d/coin" class="github-corner" title="View source on GitHub" target="_blank" rel="noopener noreferrer">
    <svg viewBox="0 0 250 250" width="40" height="40" style="position: absolute; top: 0; border: 0; right: 0; z-index: 99;" aria-hidden="true">
    <path d="M0,0 L115,115 L130,115 L142,142 L250,250 L250,0 Z"></path><path d="M128.3,109.0 C113.8,99.7 119.0,89.6 119.0,89.6 C122.0,82.7 120.5,78.6 120.5,78.6 C119.2,72.0 123.4,76.3 123.4,76.3 C127.3,80.9 125.5,87.3 125.5,87.3 C122.9,97.6 130.6,101.9 134.4,103.2" fill="currentColor" style="transform-origin: 130px 106px;" class="octo-arm"></path><path d="M115.0,115.0 C114.9,115.1 118.7,116.5 119.8,115.4 L133.7,101.6 C136.9,99.2 139.9,98.4 142.2,98.6 C133.8,88.0 127.5,74.4 143.8,58.0 C148.5,53.4 154.0,51.2 159.7,51.0 C160.3,49.4 163.2,43.6 171.4,40.1 C171.4,40.1 176.1,42.5 178.8,56.2 C183.1,58.6 187.2,61.8 190.9,65.4 C194.5,69.0 197.7,73.2 200.1,77.6 C213.8,80.2 216.3,84.9 216.3,84.9 C212.7,93.1 206.9,96.0 205.4,96.6 C205.1,102.4 203.0,107.8 198.3,112.5 C181.9,128.9 168.3,122.5 157.7,114.1 C157.9,116.9 156.7,120.9 152.7,124.9 L141.0,136.5 C139.8,137.7 141.6,141.9 141.8,141.8 Z" fill="currentColor" class="octo-body"></path></svg></a><style>.github-corner:hover .octo-arm{animation:octocat-wave 560ms ease-in-out}@keyframes octocat-wave{0%,100%{transform:rotate(0)}20%,60%{transform:rotate(-25deg)}40%,80%{transform:rotate(10deg)}}@media (max-width:500px){.github-corner:hover .octo-arm{animation:none}.github-corner .octo-arm{animation:octocat-wave 560ms ease-in-out}}</style>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="Coin_logo.png"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Coin
   &#160;<span id="projectnumber">4.0.2</span>
   </div>
   <div id="projectbrief">Coin3D core library</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.1 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('coin_shaders_page.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="PageDoc"><div class="header">
  <div class="headertitle">
<div class="title">Shaders in Coin </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p>Coin 2.5 added support for shaders. The main nodes used are <a class="el" href="classSoShaderProgram.html" title="The SoShaderProgram class is used to specify a set of vertex/geometry/fragment objects.">SoShaderProgram</a>, <a class="el" href="classSoVertexShader.html" title="The SoVertexShader class is used for setting up vertex shader programs.">SoVertexShader</a>, <a class="el" href="classSoFragmentShader.html" title="The SoFragmentShader class is used for setting up fragment shader programs.">SoFragmentShader</a>, and <a class="el" href="classSoGeometryShader.html" title="The SoGeometryShader class is used for loading geometry shader programs.">SoGeometryShader</a>. A typical scene graph with shaders will look something like this:</p>
<div class="fragment"><div class="line">Separator {</div>
<div class="line">  ShaderProgram {</div>
<div class="line">    shaderObject [</div>
<div class="line">      VertexShader {</div>
<div class="line">        sourceProgram <span class="stringliteral">&quot;myvertexshader.glsl&quot;</span></div>
<div class="line">        parameter [</div>
<div class="line">          ShaderParameter1f { name <span class="stringliteral">&quot;myvertexparam&quot;</span> value 1.0 }</div>
<div class="line">        ]</div>
<div class="line">      }</div>
<div class="line">      FragmentShader {</div>
<div class="line">        sourceProgram <span class="stringliteral">&quot;myfragmentshader.glsl&quot;</span></div>
<div class="line">        parameter [</div>
<div class="line">          ShaderParameter1f { name <span class="stringliteral">&quot;myfragmentparam&quot;</span> value 2.0 }</div>
<div class="line">        ]</div>
<div class="line">      }</div>
<div class="line">    ]</div>
<div class="line">  }</div>
<div class="line">  Cube { }</div>
<div class="line">}</div>
</div><!-- fragment --><p>This will render the cube with the vertex and fragment shaders specified in myvertexshader.glsl and myfragmentshader.glsl. Coin also supports ARB shaders and Cg shaders (if the Cg library is installed). However, we recommend using GLSL since we will focus mostly on support this shader language.</p>
<p>Coin defines some named parameters that can be added by the application programmer, and which will be automatically updated by Coin while traversing the scene graph.</p>
<ul>
<li>coin_texunit[n]_model - Set to 0 when texturing is disabled, and to SoTextureImageElement::Model if there's a current texture on the state for unit <em>n</em>.</li>
</ul>
<ul>
<li>coin_light_model - Set to 1 for PHONG, 0 for BASE_COLOR lighting.</li>
</ul>
<ul>
<li>coin_two_sided_lighting - Set to 1 for two-sided, 0 for normal</li>
</ul>
<p>Example scene graph that renders per fragment OpenGL Phong lighting for one light source. The shaders assume the first light source is a directional light. This is the case if you open the file in a standard examiner viewer.</p>
<p>The iv-file: </p><div class="fragment"><div class="line">Separator {</div>
<div class="line">  ShaderProgram {</div>
<div class="line">    shaderObject [</div>
<div class="line">      VertexShader {</div>
<div class="line">        sourceProgram <span class="stringliteral">&quot;perpixel_vertex.glsl&quot;</span></div>
<div class="line">      }</div>
<div class="line">      FragmentShader {</div>
<div class="line">        sourceProgram <span class="stringliteral">&quot;perpixel_fragment.glsl&quot;</span></div>
<div class="line">      }</div>
<div class="line">    ]</div>
<div class="line">  }</div>
<div class="line">  Complexity { value 1.0 }</div>
<div class="line">  Material { diffuseColor 1 0 0 specularColor 1 1 1 shininess 0.9 }</div>
<div class="line">  Sphere { }</div>
<div class="line"> </div>
<div class="line">  Translation { translation 3 0 0 }</div>
<div class="line">  Material { diffuseColor 0 1 0 specularColor 1 1 1 shininess 0.9 }</div>
<div class="line">  Cone { }</div>
<div class="line"> </div>
<div class="line">  Translation { translation 3 0 0 }</div>
<div class="line">  Material { diffuseColor 0.8 0.4 0.1 specularColor 1 1 1 shininess 0.9 }</div>
<div class="line">  Cylinder { }</div>
<div class="line">}</div>
</div><!-- fragment --><p>The vertex shader (perpixel_vertex.glsl): </p><div class="fragment"><div class="line">varying vec3 ecPosition3;</div>
<div class="line">varying vec3 fragmentNormal;</div>
<div class="line"> </div>
<div class="line"><span class="keywordtype">void</span> main(<span class="keywordtype">void</span>)</div>
<div class="line">{</div>
<div class="line">  vec4 ecPosition = gl_ModelViewMatrix * gl_Vertex;</div>
<div class="line">  ecPosition3 = ecPosition.xyz / ecPosition.w;</div>
<div class="line">  fragmentNormal = normalize(gl_NormalMatrix * gl_Normal);</div>
<div class="line"> </div>
<div class="line">  gl_Position = ftransform();</div>
<div class="line">  gl_FrontColor = gl_Color;</div>
<div class="line">}</div>
</div><!-- fragment --><p>The fragment shader (perpixel_fragment.glsl): </p><div class="fragment"><div class="line">varying vec3 ecPosition3;</div>
<div class="line">varying vec3 fragmentNormal;</div>
<div class="line"> </div>
<div class="line"><span class="keywordtype">void</span> DirectionalLight(in <span class="keywordtype">int</span> i,</div>
<div class="line">                      in vec3 normal,</div>
<div class="line">                      inout vec4 ambient,</div>
<div class="line">                      inout vec4 diffuse,</div>
<div class="line">                      inout vec4 specular)</div>
<div class="line">{</div>
<div class="line">  <span class="keywordtype">float</span> nDotVP; <span class="comment">// normal . light direction</span></div>
<div class="line">  <span class="keywordtype">float</span> nDotHV; <span class="comment">// normal . light half vector</span></div>
<div class="line">  <span class="keywordtype">float</span> pf;     <span class="comment">// power factor</span></div>
<div class="line"> </div>
<div class="line">  nDotVP = max(0.0, dot(normal, normalize(vec3(gl_LightSource[i].position))));</div>
<div class="line">  nDotHV = max(0.0, dot(normal, vec3(gl_LightSource[i].halfVector)));</div>
<div class="line"> </div>
<div class="line">  <span class="keywordflow">if</span> (nDotVP == 0.0)</div>
<div class="line">    pf = 0.0;</div>
<div class="line">  <span class="keywordflow">else</span></div>
<div class="line">    pf = pow(nDotHV, gl_FrontMaterial.shininess);</div>
<div class="line"> </div>
<div class="line">  ambient += gl_LightSource[i].ambient;</div>
<div class="line">  diffuse += gl_LightSource[i].diffuse * nDotVP;</div>
<div class="line">  specular += gl_LightSource[i].specular * pf;</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line"><span class="keywordtype">void</span> main(<span class="keywordtype">void</span>)</div>
<div class="line">{</div>
<div class="line">  vec3 eye = -normalize(ecPosition3);</div>
<div class="line">  vec4 ambient = vec4(0.0);</div>
<div class="line">  vec4 diffuse = vec4(0.0);</div>
<div class="line">  vec4 specular = vec4(0.0);</div>
<div class="line">  vec3 color;</div>
<div class="line"> </div>
<div class="line">  DirectionalLight(0, normalize(fragmentNormal), ambient, diffuse, specular);</div>
<div class="line"> </div>
<div class="line">  color =</div>
<div class="line">    gl_FrontLightModelProduct.sceneColor.rgb +</div>
<div class="line">    ambient.rgb * gl_FrontMaterial.ambient.rgb +</div>
<div class="line">    diffuse.rgb * gl_Color.rgb +</div>
<div class="line">    specular.rgb * gl_FrontMaterial.specular.rgb;</div>
<div class="line"> </div>
<div class="line">  gl_FragColor = vec4(color, gl_Color.a);</div>
<div class="line">}</div>
</div><!-- fragment --> </div></div><!-- contents -->
</div><!-- PageDoc -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="coin_related_pages.html">Related Pages</a></li>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.1 </li>
  </ul>
</div>
</body>
</html>
